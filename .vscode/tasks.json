{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "zig: build",
      "type": "shell",
      "command": "zig",
      "args": ["build"],
      "group": {
        "kind": "build",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Build the GM-Zig library (debug mode)"
    },
    {
      "label": "zig: build optimized",
      "type": "shell",
      "command": "zig",
      "args": ["build", "-Doptimize=ReleaseFast"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Build the GM-Zig library with optimizations (10x+ performance)"
    },
    {
      "label": "zig: build wasm",
      "type": "shell",
      "command": "zig",
      "args": ["build", "-Dtarget=wasm32-freestanding"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Build WASM version of GM-Zig library"
    },
    {
      "label": "zig: test",
      "type": "shell",
      "command": "zig",
      "args": ["build", "test"],
      "group": {
        "kind": "test",
        "isDefault": true
      },
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Run all 219 tests for GM-Zig library"
    },
    {
      "label": "zig: test suite",
      "type": "shell",
      "command": "zig",
      "args": ["test", "src/test.zig"],
      "group": "test",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Run complete test suite (alternative test runner)"
    },
    {
      "label": "zig: run demo",
      "type": "shell",
      "command": "zig",
      "args": ["build", "run"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Run GM-Zig demo with performance tests"
    },
    {
      "label": "zig: format check",
      "type": "shell",
      "command": "zig",
      "args": ["fmt", "--check", "build.zig", "src/"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Check code formatting (required for CI)"
    },
    {
      "label": "zig: format",
      "type": "shell",
      "command": "zig",
      "args": ["fmt", "build.zig", "src/"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Auto-format all Zig code"
    },
    {
      "label": "zig: validate",
      "type": "shell",
      "command": "bash",
      "args": ["-c", "zig build && zig build -Doptimize=ReleaseFast && zig build test"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "problemMatcher": "$zig",
      "detail": "Full validation: debug build, optimized build, and tests"
    },
    {
      "label": "zig: clean",
      "type": "shell",
      "command": "rm",
      "args": ["-rf", "zig-cache", "zig-out"],
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "detail": "Clean build artifacts"
    },
    {
      "label": "performance: benchmark",
      "type": "shell",
      "command": "./scripts/collect-performance-data.sh",
      "group": "build",
      "presentation": {
        "echo": true,
        "reveal": "always",
        "focus": false,
        "panel": "shared"
      },
      "detail": "Run performance benchmarks and collect metrics"
    }
  ]
}